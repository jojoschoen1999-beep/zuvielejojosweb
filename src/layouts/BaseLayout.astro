---
import '../styles/global.css';

interface Props {
  title: string;
  activeNav?: string;
}

const { title, activeNav = '' } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title} — ZUVIELEJOJOS</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  </head>
  <body>
    <header class="header">
      <nav class="nav-left">
        <a href="/" class={activeNav === '/' ? 'active' : ''}>home</a>
      </nav>
      <a href="/" class="brand-wrap" id="brandWrap">
        <span class="brand-star">✦</span>
        <span class="brand-star">✧</span>
        <span class="brand-star">✦</span>
        <span class="brand-star">✧</span>
        <span class="brand-star">✦</span>
        <span class="brand-star">✧</span>
        <span class="brand">ZUVIELEJOJOS</span>
      </a>
      <nav class="nav-right">
        <a href="/thoughts" class={activeNav === '/thoughts' ? 'active' : ''}>thoughts</a>
        <a href="/pick-my-brain" class={activeNav === '/pick-my-brain' ? 'active' : ''}>pick my brain</a>
        <a href="/about" class={activeNav === '/about' ? 'active' : ''}>about</a>
      </nav>
    </header>

    <!-- Floating snake button (bottom-left, desktop only) -->
    <a href="/snake" class="float-btn snake-float" title="Play Snake">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
        <path d="M4 18 C4 14 8 14 8 10 C8 6 12 6 12 10 C12 14 16 14 16 10 C16 6 20 6 20 10 L20 12" stroke-linecap="round"/>
        <circle cx="20" cy="8" r="1.5" fill="currentColor"/>
      </svg>
    </a>

    <!-- Floating IG button (bottom-right) -->
    <a href="https://www.instagram.com/zuvielejojos/" target="_blank" class="float-btn ig-float" title="Instagram">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
    </a>

    <slot />

    <script>
      // Brand stars on hover
      const brandWrap = document.getElementById('brandWrap');
      if (brandWrap) {
        brandWrap.addEventListener('mouseenter', () => {
          document.querySelectorAll('.brand-star').forEach((s, i) => setTimeout(() => s.classList.add('visible'), i * 80));
        });
        brandWrap.addEventListener('mouseleave', () => {
          document.querySelectorAll('.brand-star').forEach(s => s.classList.remove('visible'));
        });
      }
    </script>
  </body>
</html>
